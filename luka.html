<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luka - Striking Swordswoman</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Dark background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #e2e8f0;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            background-color: #2d3748; /* Slightly lighter dark background for container */
            border-radius: 1.5rem; /* More rounded corners */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5); /* Stronger shadow */
            padding: 2.5rem;
            max-width: 900px;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            position: relative;
            overflow: hidden;
        }
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.5rem;
            border-radius: 1.5rem;
            z-index: 10;
            flex-direction: column;
        }
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #63b3ed; /* Tailwind blue-400 */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-bottom: 10px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .image-placeholder {
            background-color: #4a5568; /* Darker grey for placeholder */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 400px; /* Fixed height for consistency */
            border-radius: 0.75rem;
            color: #a0aec0;
            font-size: 1.25rem;
            text-align: center;
        }
        .generated-image {
            max-width: 100%;
            height: auto;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: block; /* Ensures image takes full width of its container */
            margin: 0 auto; /* Center the image */
        }
        .description-box {
            background-color: #4a5568;
            border-radius: 0.75rem;
            padding: 1.5rem;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        .button {
            background-color: #63b3ed; /* Tailwind blue-400 */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            text-align: center;
        }
        .button:hover {
            background-color: #4299e1; /* Darker blue on hover */
        }
        @media (max-width: 768px) {
            .container {
                padding: 1.5rem;
            }
            .image-placeholder {
                height: 300px;
            }
            .loading-overlay {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-3xl font-bold text-center mb-4">Meet Luka, the Striking Swordswoman</h1>

        <div id="imageContainer" class="relative">
            <div id="loadingOverlay" class="loading-overlay hidden">
                <div class="spinner"></div>
                <span>Generating Luka's image...</span>
            </div>
            <div id="imagePlaceholder" class="image-placeholder">
                Your image of Luka will appear here!
            </div>
            <img id="generatedImage" class="generated-image hidden" src="" alt="Luka, the Swordswoman">
        </div>

        <div class="description-box">
            <h2 class="text-xl font-semibold mb-2">Luka's Description:</h2>
            <p>
                A striking female swordswoman, "Luka," stands poised with serene confidence. She has natural dark violet hair styled in an elegant, traditional Chinese updo with subtle, modern touches—think braided buns with delicate hairpins reminiscent of the Akai Majo. Her eyes are sharp and intelligent, reflecting both warmth and a calculating, analytical depth.
            </p>
            <p class="mt-2">
                Her attire is a harmonious blend: Flowing, high-collared robes with layered elements, merging the regal, diplomatic air of Rimuru and the martial, samurai-inspired armor accents of Benimaru. Subtle magical motifs (runes, talismans) woven into the fabric, nodding to Tatsuya’s technical mastery and Urahara’s inventive spirit.
            </p>
            <p class="mt-2">
                A sleek, ornate sword sheathed at her waist, its design fusing Japanese katana elegance with a mystical, otherworldly touch (Sylphia, Frieren). Accessories: A single, delicate earring (Kaguya’s understated pride), a ribbon or sash (Ai Hayasaka’s versatility), and a book or scroll tucked at her side (Hiyori, Frieren).
            </p>
            <p class="mt-2">
                Her posture is calm and composed, exuding both authority and approachability. Her expression is mature, with a gentle, supportive smile—yet her gaze hints at deep emotional complexity (Ulquiorra’s detachment, Kaguya’s vulnerability).
            </p>
            <p class="mt-2">
                The background is softly blurred, suggesting a timeless training ground that hints at both ancient tradition and subtle magical energy.
            </p>
        </div>

        <button id="generateButton" class="button">Generate Luka's Image</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const generateButton = document.getElementById('generateButton');
            const loadingOverlay = document.getElementById('loadingOverlay');
            const imagePlaceholder = document.getElementById('imagePlaceholder');
            const generatedImage = document.getElementById('generatedImage');

            generateButton.addEventListener('click', async () => {
                // Show loading state
                imagePlaceholder.classList.add('hidden');
                generatedImage.classList.add('hidden');
                loadingOverlay.classList.remove('hidden');
                generateButton.disabled = true;
                generateButton.textContent = 'Generating...';

                const prompt = `
                    A striking female swordswoman, "Luka," stands poised with serene confidence. She has natural dark violet hair styled in an elegant, traditional Chinese updo with subtle, modern touches—braided buns with delicate hairpins reminiscent of the Akai Majo. Her eyes are sharp and intelligent, reflecting both warmth and a calculating, analytical depth.

                    Her attire is a harmonious blend: Flowing, high-collared robes with layered elements, merging the regal, diplomatic air of Rimuru and the martial, samurai-inspired armor accents of Benimaru. Subtle magical motifs (runes, talismans) woven into the fabric, nodding to Tatsuya’s technical mastery and Urahara’s inventive spirit.

                    A sleek, ornate sword sheathed at her waist, its design fusing Japanese katana elegance with a mystical, otherworldly touch (Sylphia, Frieren). Accessories: A single, delicate earring (Kaguya’s understated pride), a ribbon or sash (Ai Hayasaka’s versatility), and a book or scroll tucked at her side (Hiyori, Frieren).

                    Her posture is calm and composed, exuding both authority and approachability. Her expression is mature, with a gentle, supportive smile—yet her gaze hints at deep emotional complexity (Ulquiorra’s detachment, Kaguya’s vulnerability).

                    The background is softly blurred, suggesting a timeless training ground that hints at both ancient tradition and subtle magical energy.

                    Visual details to include:
                    Hair: Natural dark violet, Chinese updo with braids and pins.
                    Eyes: Reflective, intelligent, with a hint of kindness and strategic sharpness.
                    Outfit: Layered robes (regal/diplomatic + samurai armor), magical runes, subtle color accents (deep blues, purples, silver).
                    Sword: Elegant, slightly mystical, with runic engravings.
                    Accessories: Earring, ribbon/sash, book/scroll.
                    Expression: Calm, mature, supportive, with depth.
                    Aura: Balanced between warmth, logic, and a hint of enigma.
                    Keywords: female swordswoman, dark violet hair, Chinese hairstyle, layered robes, samurai armor, magical runes, elegant sword, mature, analytical, supportive, regal, strategic, Akai Majo inspired, anime-style, fantasy, multidimensional, composed, emotional depth. High quality, detailed, cinematic lighting.
                `;

                try {
                    const payload = { instances: { prompt: prompt }, parameters: { "sampleCount": 1} };
                    const apiKey = ""; // Canvas will provide this
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    if (result.predictions && result.predictions.length > 0 && result.predictions[0].bytesBase64Encoded) {
                        const imageUrl = `data:image/png;base64,${result.predictions[0].bytesBase64Encoded}`;
                        generatedImage.src = imageUrl;
                        generatedImage.classList.remove('hidden');
                    } else {
                        imagePlaceholder.textContent = 'Failed to generate image. Please try again.';
                        imagePlaceholder.classList.remove('hidden');
                    }
                } catch (error) {
                    console.error('Error generating image:', error);
                    imagePlaceholder.textContent = 'An error occurred during image generation. Please try again.';
                    imagePlaceholder.classList.remove('hidden');
                } finally {
                    // Hide loading state
                    loadingOverlay.classList.add('hidden');
                    generateButton.disabled = false;
                    generateButton.textContent = 'Generate Luka\'s Image';
                }
            });
        });
    </script>
</body>
</html>
